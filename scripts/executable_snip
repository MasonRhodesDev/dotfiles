#!/bin/bash
# Modern screenshot workflow: wayshot + satty for annotation
# Takes a selection screenshot, opens in satty for annotation/editing

# Save to Pictures with timestamp for persistence
FILENAME=~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png
~/.cargo/bin/wayshot --stdout -s "$(slurp)" > "$FILENAME"
satty --filename "$FILENAME" --fullscreen --output-filename "$FILENAME"

# Copy both file URI (for Slack/Discord uploads) and image data (for inline paste)
{
  echo "file://$FILENAME"
  echo "$FILENAME"
} | wl-copy --type text/uri-list

wl-copy < "$FILENAME"